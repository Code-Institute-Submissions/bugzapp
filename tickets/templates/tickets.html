{% extends 'base.html' %}

{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/pages/tickets.css' %}" />
{% endblock %}

{% block content %}

<div class="overlay"></div>

<h1>Tickets page</h1>
<hr />
<div class="search-and-filter">
	<form method="GET" action="{% url 'tickets' %}">
		<div class="input-group search-line">
            <input class="form-control" id="searchbar" type="text" name="q" placeholder="Search Tickets" />
                <button class="form-control border-black rounded-0 search-button" type="submit">
                    <span class="text-success">Search</span>
                </button>
        </div>
    </form>
</div>
<hr />

{% if tickets %}

    {% for ticket in tickets %}

    <div class="row ticket">
        <div class="col">
            <h3>Title: {{ ticket.title }}</h3>
            <h4>Status: {{ ticket.status }}</h4>
        </div>
        <div class="col">
            <h5>Type: {{ ticket.type }}</h5>
            <h5>Project: {{ ticket.project }}</h5>
        </div>
        <div class="col">
        <h5>Summary:</h5>
            {{ ticket.description }}
        </div>
        <div class="col button-col">
            <a class="button" href="{% url 'viewticket' ticket.id %}">View Ticket</a>
        </div>
    </div>

    {% endfor %}

{% else %}

    <h2>No Tickets to Display</h2>

{% endif %}

<a  class="button" href="{% url 'addticket' %}">Add Ticket</a>

{% endblock %}